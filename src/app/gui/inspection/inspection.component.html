<div *ngIf="categories.length == 0">
  <h1 style="text-align: center">
    Hoppsan!
  </h1>
  <p>Du har inte hämtat eller matat in någon data!</p>
  <button
    mat-raised-button
    color="primary"
    routerLink='/home'
  >
    Tillbaka hem
  </button>
</div>

<div *ngIf="categories.length > 0">
<div *ngIf="!dataSent" class="center">
  <p>Kontrollera dina värden innan du skickar in till ***REMOVED***</p>

  <div class="panel-container">
    <mat-expansion-panel *ngFor="let category of categories" class="panel">
      <mat-expansion-panel-header *ngIf="!isCategoryEmpty(category)">
        <mat-panel-title>{{
          categorySpecs.get(category).label
        }}
        </mat-panel-title>
        <mat-panel-description
          >Antal mätvärden:
          {{ getNumberOfValues(category) }}</mat-panel-description
        >
      </mat-expansion-panel-header>

      <app-editor [editable]="false" [selectCategory]="category"></app-editor>
    </mat-expansion-panel>
  </div>

  <div class="auth-buttons">
    <label>Personnummer <input #pnr /> </label>
    <label>Användare: <input #username /> </label>
    <label>Lösenord: <input type="password" #password /> </label>
  </div>

  <button
    mat-raised-button
    color="primary"
    (click)="authenticate(username.value, password.value); sendData(pnr.value)"
  >
    Godkänn och skicka
  </button>
</div>

<div *ngIf="dataSent" class="center">
  <h1 style="text-align: center">
    Data skickat!
  </h1>
  <mat-card style="margin-bottom: 15px">
    Personnummer: {{receipt.pnr}}<br>
    EHR ID: {{receipt.ehrId}}<br>
    Composition UID: {{receipt.compUid}}
  </mat-card>
  <button
    mat-raised-button
    color="primary"
    routerLink='/home'
  >
    Tillbaka hem
  </button>
</div>
</div>
